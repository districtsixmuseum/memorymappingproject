<!-- Hello, this is the District Six Museum and St. Mark's Anglican Church Memory Mapping Project webpage, developed as part of
University of Michigan's School of Information Global Information Engagement Program in 2019 and building off prior work from 2018 and from Cape Peninsula University of Technology
(https://www.si.umich.edu/programs/professional-and-community-engagement/global-information-engagement-program).
Much of this code was generated by the qgis2web plugin (https://github.com/tomchadwin/qgis2web), with additional functionality built on top of it by us.
We apologize that this is not a very elegant piece of programming. -->

<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <link rel="stylesheet" href="./resources/ol.css">
        <link rel="stylesheet" href="resources/fontawesome-all.min.css">
        <link rel="stylesheet" href="./resources/ol3-layerswitcher.css">
        <link rel="stylesheet" href="./resources/qgis2web.css">
        <link href='https://fonts.googleapis.com/css?family=Poppins' rel='stylesheet'>
        <!-- ^Poppins is the font used on the website, so we matched it in this application. -->

        <!-- Putting style tag in the html file is considered bad practice, but these came from the qgis2web export, and I don't want to touch them for fear of breaking stuff. -->
        <style>
        .search-layer {
            top: 65px;
            left: .5em;
        }
        .ol-touch .search-layer {
            top: 80px;
        }
        .ol-control button {
            background-color: #f8f8f8 !important;
            color: #000000 !important;
            border-radius: 0px !important;
        }
        .ol-zoom, .geolocate, .gcd-gl-control .ol-control {
            background-color: rgba(255,255,255,.4) !important;
            padding: 3px !important;
        }
        .ol-scale-line {
            background: none !important;
        }
        .ol-scale-line-inner {
            border: 2px solid #f8f8f8 !important;
            border-top: none !important;
            background: rgba(255, 255, 255, 0.5) !important;
            color: black !important;
        }
        </style>
        <title></title>
    </head>

    <body> 
        <!-- This is the image overlay that takes over the window when an image is clicked. -->
        <div id="image-overlay" onclick="imageExpand('off');">
            <button id="overlay-close" onclick="imageExpand('off');">Close X</button>
            <div id="image-expand"></div>
            <p id="caption-box"></p>
        </div>
        <!-- This is the entire left side bar that we added for additional functionality. -->
        <div id="left-side">
            <div id="left-container">
                <!-- The buttons that highlight individual storytellers' points and load their pictures, audio clip, and biographies. -->
                <div id="storytellers">
                    <button id="storyteller1" class="storyteller-button layer-button" onclick="layerToggle(this)">June Adams-Borien</button>
                    <button id="storyteller2" class="storyteller-button layer-button" onclick="layerToggle(this)">Colin Carollisen</button>
                    <button id="storyteller3" class="storyteller-button layer-button" onclick="layerToggle(this)">Esther Cottle</button>
                    <button id="storyteller4" class="storyteller-button layer-button" onclick="layerToggle(this)">Kenneth Hess</button>
                    <button id="storyteller5" class="storyteller-button layer-button" onclick="layerToggle(this)">Susan Lewis</button>
                    <button id="storyteller6" class="storyteller-button layer-button" onclick="layerToggle(this)">Denise Lowton</button>
                    <button id="storyteller7" class="storyteller-button layer-button" onclick="layerToggle(this)">Helene Sables</button>
                </div>
                <div id="content-box">
                    <!-- This is where the storyteller's profile picture goes. -->
                    <div id="profile-box" onclick="imageExpand('',this);">
                        <img src="media/st_marks_standing.jpg">
                    </div>
                    <!-- This is where storyteller's name goes. -->
                    <p id = "header-box">To Use This Map</p>
                    <!-- This is where storyteller's audio clip goes. -->
                    <div id="audio-box"></div>
                    <button id="audio-player" class="paused" onclick="audioPlay()" onmouseover="audioHover()" onmouseout="audioHoverOut()"><i class="fas fa-play"></i></button>
                    <!-- This is where storyteller's set of images go. -->
                    <div id="carousel-container">
                        <div id="image-carousel">
                            <div id="left-chevron" onclick="imageCarouselChange('left');"><i class="fas fa-chevron-left"></i></div>
                            <div id="middle-image" onclick="imageExpand('',this);"></div>
                            <div id="right-chevron" onclick="imageCarouselChange('right');"><i class="fas fa-chevron-right"></i></div>
                        </div>
                    </div>
                    <!-- This is where storyteller's biography goes. -->
                    <p id="text-box">
                        Disclaimer: This map is a compilation of historical data from 1952-1968 and is intended for educational purposes only.
                        <br/>
                        <br/>Map can be panned (mouse click and drag) and zoomed (mouse double-click or mouse scrollwheel or buttons in upper left corner). Some points do not appear until sufficiently zoomed in.
                        <br/>
                        <br/>Click on a storyteller's button above to highlight that individual's story.
                        <br/>
                        <br/>Click on a landmark button below to toggle their icons on and off.
                        <br/>
                        <br/>Click on a location in the map to see more details about it.
                        <br/>
                        <br/>Click on an image to expand it.
                    </p>
                </div>
            </div>
        </div>
        <div id="right-side">
            <!-- This map section is all that qgis2web generated. -->
            <div id="map">
                <div id="popup" class="ol-popup">
                    <a href="#" id="popup-closer" class="ol-popup-closer"></a>
                    <div id="popup-content"></div>
                </div>
            </div>
            <!-- These are the buttons we added that go along the bottom of the window below the map. They toggle layers on and off. -->
            <div id="layer-buttons">
                <button id="storyteller0" class="wholelayer-button layer-button active" onclick="layerToggle(this)">Storytellers</button>
                <button id="landmark1" class="landmark-button layer-button" onclick="layerToggle(this)">Social Centres</button>
                <button id="landmark2" class="landmark-button layer-button" onclick="layerToggle(this)">Schools</button>
                <button id="landmark3" class="landmark-button layer-button" onclick="layerToggle(this)">Hospitals</button>
                <button id="landmark4" class="landmark-button layer-button" onclick="layerToggle(this)">Cinemas</button>
                <button id="landmark5" class="landmark-button layer-button" onclick="layerToggle(this)">Places of Worship</button>
                <button id="historical0" class="wholelayer-button layer-button active" onclick="layerToggle(this)">Historical Map</button>
            </div>
        </div>

        <!-- All following scripts produced by qgis2web export. -->
        <!-- This first group is probably stuff related to map functionality. I haven't really looked into any of these, and I have not made any edits to these. -->
        <script src="resources/qgis2web_expressions.js"></script>
        <script src="resources/polyfills.js"></script>
        <script src="./resources/functions.js"></script>
        <script src="./resources/ol.js"></script>
        <script src="./resources/ol3-layerswitcher.js"></script>

        <!-- This group is all the data for each layer. -->
        <script src="layers/D6_Streets_2.js"></script>
        <script src="layers/Buildings_Added_3.js"></script>
        <script src="layers/1968DistrictSix_4.js"></script>
        <script src="layers/streetno_5.js"></script> <!-- While this data is here, we chose not to make it actually accessible within the application because we ran out of time and couldn't figure out a good user experience design for interacting with this data. -->
        <script src="layers/D6StudyArea_6.js"></script>
        <script src="layers/Landmarks_Cinemas_7.js"></script>
        <script src="layers/Landmarks_Schools_8.js"></script>
        <script src="layers/Landmarks_Churches_9.js"></script>
        <script src="layers/Landmarks_Mosques_10.js"></script>
        <script src="layers/Landmarks_Hospitals_11.js"></script>
        <script src="layers/Landmarks_Community_12.js"></script>
        <script src="layers/Helene_Sables_13.js"></script>
        <script src="layers/Denise_Lowton_14.js"></script>
        <script src="layers/Susan_Lewis_15.js"></script>
        <script src="layers/Kenneth_Hess_16.js"></script>
        <script src="layers/Esther_Cottle_17.js"></script>
        <script src="layers/Colin_Carollisen_18.js"></script>
        <script src="layers/June_AdamsBorien_19.js"></script>

        <!-- This group is the visual styling of each layer. -->
        <script src="styles/D6_Streets_2_style.js"></script>
        <script src="styles/Buildings_Added_3_style.js"></script>
        <script src="styles/1968DistrictSix_4_style.js"></script>
        <script src="styles/streetno_5_style.js"></script>
        <script src="styles/D6StudyArea_6_style.js"></script>
        <script src="styles/Landmarks_Cinemas_7_style.js"></script>
        <script src="styles/Landmarks_Schools_8_style.js"></script>
        <script src="styles/Landmarks_Churches_9_style.js"></script>
        <script src="styles/Landmarks_Mosques_10_style.js"></script>
        <script src="styles/Landmarks_Hospitals_11_style.js"></script>
        <script src="styles/Landmarks_Community_12_style.js"></script>
        <script src="styles/Helene_Sables_13_style.js"></script>
        <script src="styles/Denise_Lowton_14_style.js"></script>
        <script src="styles/Susan_Lewis_15_style.js"></script>
        <script src="styles/Kenneth_Hess_16_style.js"></script>
        <script src="styles/Esther_Cottle_17_style.js"></script>
        <script src="styles/Colin_Carollisen_18_style.js"></script>
        <script src="styles/June_AdamsBorien_19_style.js"></script>
        
        <!-- This group is more stuff related to map functionality. I made some edits to layers.js and many edits to qgis2web.js. -->
        <script src="./layers/layers.js" type="text/javascript"></script> 
        <script src="./resources/qgis2web.js"></script>
        <script src="./resources/Autolinker.min.js"></script>
    </body>
</html>
